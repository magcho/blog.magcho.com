{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/2019/08/tmux-emacs-underline/","result":{"data":{"site":{"siteMetadata":{"title":"magcho's blog","author":"magcho"}},"markdownRemark":{"id":"262d84b4-aa04-572b-ae90-84cf1975e8ca","excerpt":"macOS(Mojave)でiterm2を使っています、emacsのテーマを設定していてunderlineが表示できなくて困りました。 emacsでは文字色や背景色のほか、文字の下線, 太字, 斜体, 取り消しなど色々な表記ができます。 自分の環境ではflycheckのerror…","html":"<p>macOS(Mojave)でiterm2を使っています、emacsのテーマを設定していてunderlineが表示できなくて困りました。</p>\n<p>emacsでは文字色や背景色のほか、<u>文字の下線</u>, <strong>太字</strong>, <em>斜体</em>, <s>取り消し</s>など色々な表記ができます。</p>\n<p>自分の環境ではflycheckのerror, warningなどが下線付きの書式になるはずでした。</p>\n<p>iterm2上で直接emacsを起動している時にはきちんと下線が表示されますが、tmuxセッション上でemacsを起動すると下線が表示されませんでした。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/278d07693c283ac5622e6fa4c48a363c/a3767/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBUlEQVQoz1WQW27TQBhGvQoECoUmbcZjj++xPU7aOEkT0YvSS4RoQlInBaSiFt4RG+AJiRUglsADG2BdyKdCcWklHo6+mX+ko+8fY/WuuH01OWU+m/J6NqNYvOZtMWU5e0kxndzOZ+csi4JVUVT55vKSm+tr3l9dsVouK5bFxfp+ezIe/zF+flvx/dOYX19O+f31jB+fj/k43+NmsceHxR7DQaeM21mZ7XRKrXWZJEkZx3GVaZo+sH6TQmBkOqGjW5wMYi7OOoyPNE1PUW8FNOIAM4uw2hG2DhGOxdbWFo1G43/q9Wpee/K4NJQXYisXFcXYOkP6AVbgolo+ThqikgAVB9iBh1Q2Qoiy2WxWCCG4xzRNnj2tYfg6p58PyPM+SaKxPAfLd7F8B+kppKuQ67Or8DwP13WrVEpxL22KZiXcWAtV0iXNR+h8SLqTE7ZC/DDAVgohTYSUd2maSCkfWAvum25vr8VmuVGrlYalHNLuLjrPyXpdOv0ufhIhlKyaPTT1/zX1FKayEObdmtISWE4T2zXZ3KxhdLOU/UGXLEnQnTYtneKGAVGa4Phe1dC0LSzXqf5Q2jbSUfiuQ+pHdIeC8WqDo8Vz9OARxuHqmJPLCcPFPrvTAb35kN1pn/5iRG8xYue8T28+IjlrV6STThkdJoQvYqL9hOigRXQQER+nbEd1/gIG4ijhNeudyQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/278d07693c283ac5622e6fa4c48a363c/fcda8/1.png\"\n        srcset=\"/static/278d07693c283ac5622e6fa4c48a363c/12f09/1.png 148w,\n/static/278d07693c283ac5622e6fa4c48a363c/e4a3f/1.png 295w,\n/static/278d07693c283ac5622e6fa4c48a363c/fcda8/1.png 590w,\n/static/278d07693c283ac5622e6fa4c48a363c/efc66/1.png 885w,\n/static/278d07693c283ac5622e6fa4c48a363c/c83ae/1.png 1180w,\n/static/278d07693c283ac5622e6fa4c48a363c/a3767/1.png 1210w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b1a161b56c9322a8051ba695e48263c/a3767/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2ElEQVQoz2WQW2+bMBiG+RG72JQ1Ug4YY2ODCdiQAEnXrG12kCZ1IqQHWCJtN/v/NxNvNEGaqtMuHll6P+vx689qfu6P5fc77PcNDocD9ocD6rpGta2wLcvjj6bB4/0DqrJEtd3ifrdD0zR4enrErqp6uryu6+On29s/1mX5gHT9Gen1Fyyvb7DebKDzHLrIEecZojRpzTxt02zRJknSaq1fMMb0aGP6mesQWDJMoGYxwpmGyeaI8hQ0EHATBdcouGnYw7SCzV1MJhOMx+N/GI1GfT5497a1pB9AeAJBHEEtEnjKB/U9sNAHixVYFIBHAVggQTkDIaS1bbuHEIIzjuNg+H4Ay9cFlsUl8nyFKDag0oPrn6CSgwreP0A9DikkhBCQUoJzjrPUtu1eeDEYwPLibl9rmOIKel5AzRR8FcDt2lAHhNLT6TiglL7QCf4Tdg2J4yKazxFnGZIiR1pkEGEAwt2+bd/SY6CCwREcjmAgjL6SnYSEPDc0xmC1WiHPc2SLBeIo7r/WXZ5Op609tc87wzOvs9YmndhuHeq0w4tBa62vCmw+LmGSGDyUkCaEb0IIreBFPpgS4DMJLw76OVcCbCYRRj7mWuPDVxd3v4f49muE9OYN/gJ4NB5en6KiSAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/1b1a161b56c9322a8051ba695e48263c/fcda8/2.png\"\n        srcset=\"/static/1b1a161b56c9322a8051ba695e48263c/12f09/2.png 148w,\n/static/1b1a161b56c9322a8051ba695e48263c/e4a3f/2.png 295w,\n/static/1b1a161b56c9322a8051ba695e48263c/fcda8/2.png 590w,\n/static/1b1a161b56c9322a8051ba695e48263c/efc66/2.png 885w,\n/static/1b1a161b56c9322a8051ba695e48263c/c83ae/2.png 1180w,\n/static/1b1a161b56c9322a8051ba695e48263c/a3767/2.png 1210w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>そもそもターミナル上でこのようにunderlineやboldなどの文字装飾を行う時はANSIエスケープシーケンスかなーと思ったんですが\niterm直接とtmux上で</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">print <span class=\"token string\">\"<span class=\"token entity\" title=\"\\u001b\">\\u001b</span>[1m BOLD <span class=\"token entity\" title=\"\\u001b\">\\u001b</span>[0m<span class=\"token entity\" title=\"\\u001b\">\\u001b</span>[4m Underline <span class=\"token entity\" title=\"\\u001b\">\\u001b</span>[0m<span class=\"token entity\" title=\"\\u001b\">\\u001b</span>[7m Reversed <span class=\"token entity\" title=\"\\u001b\">\\u001b</span>[0m\"</span></code></pre></div>\n<p>を表示させても正しく同じ表示になります、アレレ。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/235b9d1380cd7f9ff09f6e65a16c9bcd/a3767/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABt0lEQVQoz3WR2W7UQBQF2/bYHu9bu92L7SGzZQiJUJCGiC3w/5+EXBEiQShE4aEeb6mOrrjYbh92uwOH/ZHdds/oRuZpg3UT0zixnSdmZ7Fq4M1o2DjHab/n3emSq+OB69OR69Mlbw/7h9mZn6KSHcZqpJLIvkPKhqLMlrKplzJPlzL2ljoNljpdLbL0liISSyye8F+wEgLhJsdhbzifb/h2f2Yaa0ZXY12LVgW2i5l1wjQkzEOEaQNUHTA0K5LA+4e1LxYxaMnFRvLxfPOI1QWDyhmGCtWlqDrEyhjTxcgyoM08VO3TpB6xJ5a1L3iOsE6z22ru7m75cHvF0GeovkCpCtmmqCrEtBG6jZFFQJN5yNKnSv4jnMae467ny6dbPt9dY4cUo1K0ylHtGtuFuD7CyghVBXS5h+mCR2EkXhG2g2YwE50ySGWom54kr8kqSZ4V5FFIHkcUcUwW+iSBIPz9lD91LyvFvBm4Oml+fD9z//U9s8sZTY5zFVplTCpi1jGjitm6iI1e4eTT9FcLm66naVvsOKGNpSgKirKiqBvKPKdah1RJRJXGpCv/sShdPR0/q/wr/AVzIdYra/TySwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/235b9d1380cd7f9ff09f6e65a16c9bcd/fcda8/3.png\"\n        srcset=\"/static/235b9d1380cd7f9ff09f6e65a16c9bcd/12f09/3.png 148w,\n/static/235b9d1380cd7f9ff09f6e65a16c9bcd/e4a3f/3.png 295w,\n/static/235b9d1380cd7f9ff09f6e65a16c9bcd/fcda8/3.png 590w,\n/static/235b9d1380cd7f9ff09f6e65a16c9bcd/efc66/3.png 885w,\n/static/235b9d1380cd7f9ff09f6e65a16c9bcd/c83ae/3.png 1180w,\n/static/235b9d1380cd7f9ff09f6e65a16c9bcd/a3767/3.png 1210w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>なのでemacsの設定が悪いのかと思って色々変えてみたんですが、結局はtmuxの設定でした。</p>\n<p>もともと、tmuxには256色に対応させるために以下の設定をしていたんですが、それが原因だったようでscreenではなくxtermにすると改善しました。</p>\n\n        <div class=\"gatsby-code-title code-title\">\n          <span>.tmux.conf</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># これはダメ</span>\n<span class=\"token builtin class-name\">set</span> -g default-terminal <span class=\"token string\">\"screen-256color\"</span>\n\n<span class=\"token comment\"># こっちにする</span>\n<span class=\"token builtin class-name\">set</span> -g default-terminal <span class=\"token string\">\"xterm-256color\"</span></code></pre></div>\n<p>ちなみにtmuxのQ&#x26;Aに書いてあった<code class=\"language-text\">tmux-256color</code>を設定するとemacsがエラーで起動しませんでした。</p>","fileAbsolutePath":"/home/runner/work/blog.magcho.com/blog.magcho.com/src/pages/2019/08/tmux-emacs-underline.md","frontmatter":{"title":"tmux上のemacsで下線が表示されなかった話","tags":["emacs","tmux"],"category":"プログラミング","fullDate":"2019-08-21"},"fields":{"lastFileUpdatedAt":"2022-09-20","fileRevisionCount":"1"}},"allMarkdownRemark":{"group":[{"fieldValue":"3D_printer"},{"fieldValue":"AWS"},{"fieldValue":"Apple Watch"},{"fieldValue":"Arduino"},{"fieldValue":"Art-Net"},{"fieldValue":"Chrome"},{"fieldValue":"DMX512"},{"fieldValue":"Docker"},{"fieldValue":"GitHub Actions"},{"fieldValue":"Gulp"},{"fieldValue":"Homebrew"},{"fieldValue":"Jest"},{"fieldValue":"M5Paper"},{"fieldValue":"Netlify"},{"fieldValue":"Nginx"},{"fieldValue":"OLA"},{"fieldValue":"OSS"},{"fieldValue":"SOAP"},{"fieldValue":"TypeScript"},{"fieldValue":"dotz"},{"fieldValue":"emacs"},{"fieldValue":"gatsby.js"},{"fieldValue":"git"},{"fieldValue":"github"},{"fieldValue":"go"},{"fieldValue":"golang"},{"fieldValue":"homebrew"},{"fieldValue":"lily58"},{"fieldValue":"mac"},{"fieldValue":"macOS"},{"fieldValue":"qmk firmware"},{"fieldValue":"tmux"},{"fieldValue":"use-package"},{"fieldValue":"youtube live"},{"fieldValue":"インターンシップ"},{"fieldValue":"ブログ"},{"fieldValue":"ポリッドスクリーン"},{"fieldValue":"参加レポ"},{"fieldValue":"思ったこと"},{"fieldValue":"生産性のない話"},{"fieldValue":"自作キーボード"},{"fieldValue":"読書"}]}},"pageContext":{"slug":"/2019/08/tmux-emacs-underline/","previous":{"excerpt":"Cask に追加してみる homebrew を更新し、作業中は自動更新を止める まずで更新をかけておきます、これで Cask 含め brew 本体も更新されます。 次に、homebrew は Cask を自動更新する仕様なので作業中はこれを止めておきます。 環境変数なのでターミナルを開き直したあとや、別のターミナルには効きませんのでご注意を。 Cask に追加したいアプリケーションをインストールしておく 今までと同じようにブラウザでインストーラーなどをダウンロードし、インストールします。後々使うのでダウンロードしたファイルを消さないようにしましょう。 github 上でhomebrew-caskを fork する local 上の homebrew ディレクトリの git に fork したリポジトリを追加する Cask…","fields":{"slug":"/2019/01/homebrew-cask-add/"},"frontmatter":{"date":"08/20","title":"homebrew-caskにないアプリは自分で追加しよう","category":"プログラミング","tags":["homebrew"]}},"next":{"excerpt":"増税前にPCを買い換えておこうと思い、高校の時に買ったMacBook Air 13-inch Early 2015から2019 MacBook Pro 2019 13-inch 4thunderbolt3 portsにしました。 メモリとかSSDとかも追加して、この度念願のUSキーボードにしました。 初バタフライキーボードです、このペチペチ感が楽しいです。 さて、パソコンを買い換えたということは環境を再構築しなければなりません、大概のアプリケーションはhomebrewで管理しているのでインストール用のスクリプトを書いておけばいいですね。 あとは設定周りのファイルを移行したいです。正直dotfilesを管理するツールはいくらでもあります。前はhomeshick…","fields":{"slug":"/2019/09/dotz/"},"frontmatter":{"date":"09/20","title":"dotfilesを管理するツールを作った","category":"プログラミング","tags":["golang","dotz","macOS"]}}}},"staticQueryHashes":["1324386404","4172131656","848935343"]}