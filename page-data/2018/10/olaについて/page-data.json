{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/2018/10/olaについて/","result":{"data":{"site":{"siteMetadata":{"title":"magcho's blog","author":"magcho"}},"markdownRemark":{"id":"a0aaf51c-b751-5021-9dd8-4565052521f1","excerpt":"OLA とは Open Lighting Project という組織が開発をしています。この組織は、2004 年当時、オープンな照明用のプロトコル Art-Net に目をつけた大学生がそれを活用できるように OSS…","html":"<h2>OLA とは</h2>\n<p><a href=\"https://www.openlighting.org/\">Open Lighting Project</a> という組織が開発をしています。この組織は、2004 年当時、オープンな照明用のプロトコル Art-Net に目をつけた大学生がそれを活用できるように OSS などを整備していくことを目的に作られたものみたいです。<a href=\"https://www.openlighting.org/openlightingproject/about/history/\">(※History)</a>\nOLA の他にも Linux 系で Art-Net 扱うためのライブラリである libartnet や rdm テスターなども製作しています。</p>\n<p>その製作プロジェクトの一つである OLA。これは DMX over Ethernet の各種プロトコルや USB の DMX ノード各種などの信号を変換するノードです。対応しているプロトコル、デバイスは<a href=\"https://www.openlighting.org/ola/\">OLA の HP</a>からも確認できます。</p>\n<p>面白いのが、メーカーが仕様を一般に公開していないノードであっても OLA が対応している点です。開発者がロジアナなどで解析しているんだとか。</p>\n<h2>OLA の使い方</h2>\n<p>OLA は Linux と MacOS・FreeBSD に対応している。残念ながら Windows には対応していないが公式 HP では VM で Ubuntu を動かす方法を紹介している。様々なプラットフォームに対応してる OLA だが操作方法は全て同じで Web 上の GUI で操作できる。\n![ola web ui](スクリーンショット 2018-10-14 0.13.04.png)</p>\n<p>“Add Universe”ボタンを押して、Universe Id と Universe Name を入力し、使いたいプロトコルにチェックを入れ、“Add Universe”を押すだけです、簡単ですね。\n![](スクリーンショット 2018-10-14 1.20.54.png)</p>\n<p>しかし、このままでは左に青字で書かれている Plugins のデバイスが右のチェックボックスに表示されていません。これは OLA は OLA がデバイスを認識していないためです。試しに何かしらの USB デバイスを接続して”Reload Plugin”してみてください、一覧に表示されるようになったと思います</p>\n<p>でもデバイスによっては接続しても表示してくれないものもあります、そのような場合は別途設定を行う必要があります。</p>\n<h2>表示されないデバイスを使えるようにする</h2>\n<p>ここでは、Raspberry pi に FTDI USB DMX を接続する流れを説明していきます。</p>\n<ol>\n<li>RaspberryPi が FTDI デバイスを扱えるようにルールファイルを作成します。詳しくは<a href=\"https://wiki.openlighting.org/index.php/OLA_Device_Specific_Configuration#Open_DMX_USB_.2F_FTDI_RS485\">公式 Wiki</a>にも書いてあります。\n<code class=\"language-text\">/etc/udev/rules.d/10-local.rules</code>というパスに</li>\n</ol>\n\n        <div class=\"gatsby-code-title code-title\">\n          <span>10-local.rules</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># udev rules for ftdi devices</span>\n<span class=\"token assign-left variable\">SUBSYSTEM</span><span class=\"token operator\">==</span><span class=\"token string\">\"usb|usb_device\"</span>, <span class=\"token assign-left variable\">ACTION</span><span class=\"token operator\">==</span><span class=\"token string\">\"add\"</span>, ATTRS<span class=\"token punctuation\">{</span>idVendor<span class=\"token punctuation\">}</span><span class=\"token operator\">==</span><span class=\"token string\">\"0403\"</span>, ATTRS<span class=\"token punctuation\">{</span>idProduct<span class=\"token punctuation\">}</span><span class=\"token operator\">==</span><span class=\"token string\">\"6001\"</span>, <span class=\"token assign-left variable\">GROUP</span><span class=\"token operator\">=</span><span class=\"token string\">\"plugdev\"</span></code></pre></div>\n<p>を保存します、多分ルールファイルはデフォルトでは存在しないので新規作成してください。</p>\n<ol>\n<li>\n<p>左のリストから”FTDI USB DMX”をクリックし、詳細を見ます。<code class=\"language-text\">Enabled in Config File</code>と<code class=\"language-text\">Active</code>が No になっていますね。OLA で使用するためにはこの２つが YES になっていなければなりません。\n![](スクリーンショット 2018-10-14 1.27.56.png)</p>\n</li>\n<li>\n<p>まず、競合しているデバイスを停止させます<code class=\"language-text\">Conflicts with</code>に書かれているデバイスはこの FTDI 　 USB 　 DMX と同じドライバーであったり、物理的にポートが同じなどの理由で同時に使用できません。なので競合しているデバイスの方を止めます。\n![](スクリーンショット 2018-10-14 1.47.49.png)\n<code class=\"language-text\">Config Location</code>に書いてあるパスに設定ファイルがあるので、編集します。</p>\n</li>\n</ol>\n\n        <div class=\"gatsby-code-title code-title\">\n          <span>ola-usbserial.conf</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">device_dir <span class=\"token operator\">=</span> /dev\ndevice_prefix <span class=\"token operator\">=</span> ttyUSB\ndevice_prefix <span class=\"token operator\">=</span> cu.usbserial-\ndevice_prefix <span class=\"token operator\">=</span> ttyU\nenabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>  <span class=\"token operator\">&lt;</span>--------　falseに変更してください\npro_fps_limit <span class=\"token operator\">=</span> <span class=\"token number\">190</span>\ntri_use_raw_rdm <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\nultra_fps_limit <span class=\"token operator\">=</span> <span class=\"token number\">40</span></code></pre></div>\n<p>のように enabled を false にします。<code class=\"language-text\">Enttec Open DMX</code>も同様です。</p>\n<ol>\n<li>次に<code class=\"language-text\">FTDI USB DMX</code>の設定ファイルを編集します。</li>\n</ol>\n\n        <div class=\"gatsby-code-title code-title\">\n          <span>ola-ftdidmx.conf</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">enabled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span> <span class=\"token operator\">&lt;</span>-- trueに変更してください\nfrequency <span class=\"token operator\">=</span> <span class=\"token number\">30</span></code></pre></div>\n<ol>\n<li>USB でデバイスを接続して<code class=\"language-text\">Reload Plugin</code>をすれば Yes になると思います。\n![](スクリーンショット 2018-10-14 2.05.34.png)</li>\n</ol>","fileAbsolutePath":"/home/runner/work/blog.magcho.com/blog.magcho.com/src/pages/2018/10/olaについて.md","frontmatter":{"title":"Open Lighting Architectureについて","tags":["OLA","DMX512","Art-Net"],"category":"舞台技術","fullDate":"2018-10-13"},"fields":{"lastFileUpdatedAt":"2022-09-17","fileRevisionCount":"1"}},"allMarkdownRemark":{"group":[{"fieldValue":"3D_printer"},{"fieldValue":"AWS"},{"fieldValue":"Apple Watch"},{"fieldValue":"Arduino"},{"fieldValue":"Art-Net"},{"fieldValue":"Chrome"},{"fieldValue":"DMX512"},{"fieldValue":"Docker"},{"fieldValue":"GitHub Actions"},{"fieldValue":"Gulp"},{"fieldValue":"Homebrew"},{"fieldValue":"M5Paper"},{"fieldValue":"Netlify"},{"fieldValue":"Nginx"},{"fieldValue":"OLA"},{"fieldValue":"OSS"},{"fieldValue":"SOAP"},{"fieldValue":"TypeScript"},{"fieldValue":"dotz"},{"fieldValue":"emacs"},{"fieldValue":"gatsby.js"},{"fieldValue":"git"},{"fieldValue":"github"},{"fieldValue":"go"},{"fieldValue":"golang"},{"fieldValue":"homebrew"},{"fieldValue":"lily58"},{"fieldValue":"mac"},{"fieldValue":"macOS"},{"fieldValue":"qmk firmware"},{"fieldValue":"tmux"},{"fieldValue":"use-package"},{"fieldValue":"youtube live"},{"fieldValue":"インターンシップ"},{"fieldValue":"ブログ"},{"fieldValue":"ポリッドスクリーン"},{"fieldValue":"参加レポ"},{"fieldValue":"思ったこと"},{"fieldValue":"生産性のない話"},{"fieldValue":"自作キーボード"},{"fieldValue":"読書"}]}},"pageContext":{"slug":"/2018/10/olaについて/","previous":{"excerpt":"前は hatenablog を使っていたものの、自分でブログを構築したくなったので作ってみた。WordPress 等の CMS でやるにはメンテナンスが面倒なこともあって静的サイトジェネレータを使いました。一度 jekyll で作りましたが gatsbyjs を教えてもらってその表示速度に驚かされたのでこれはやるしかないと思い作りました。 gatsby.js は React ベースの静的サイトジェネレータです、つい最近 v2.0.0 になったばかりで公式のドキュメントにかきかけのところがあったりもしますが英語圏に情報が落ちているので大概のことはググればすぐに解決します。ただ日本語の情報が他のジェネレータ系に比べて少ないのでとっつきにくいと言われればそうなのですが最適化とか考えなくてもとりあえず作れば Gatsby…","fields":{"slug":"/2018/09/gatsbyに移行した話/"},"frontmatter":{"date":"09/26","title":"ブログをgatsbyに移行した話","category":"日記","tags":["gatsby.js","ブログ"]}},"next":{"excerpt":"来年の後半あたりからキャッシュレス決済に補助金がつくとかつかないとか言われてますね。自分は 4 月大学に入ってから出来るだけ現金を使わない生活をしてきました。理由としては家計簿を自動化したかったからです。 高校生の頃はあまり買い物もしなかったので zaim というレシートの写真を撮ると自動で家計簿をつけてくれるサービスを使っていました。しかし大学生になり、なんとかクレジットカードを作れるようになったので PASMO のオートチャージ機能をつけてみました。これがかなり便利で改札を通過する時に設定額を下回っている場合は自動で入金をしてくれるというものです。つまり改札にタッチした時には。 Ferica…","fields":{"slug":"/2018/12/kyash-less/"},"frontmatter":{"date":"12/28","title":"キャッシュレス決済について思うこと","category":"日記","tags":["思ったこと","生産性のない話"]}}}},"staticQueryHashes":["1324386404","4172131656","848935343"]}