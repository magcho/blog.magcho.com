<!DOCTYPE html><html lang="ja" prefix="og: http:ogp.me/ns#" jang="ja"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" property="og:image" content="https://blog.magcho.com/twitter-icon.jpg"/><meta data-react-helmet="true" property="og:site_name" content="magcho&#x27;s blog"/><meta data-react-helmet="true" property="og:description" content="gulp-sharp で画像のリサイズをしたい時にできなかったので自分でそれっぽいのを書いた。 フロントエンドで画像を扱う時にsrcディレクトリには元の大きさの画像を用意してdist…"/><meta data-react-helmet="true" property="og:title" content="magcho&#x27;s blog"/><meta data-react-helmet="true" name="twitter:player" content="@magcho0527"/><meta data-react-helmet="true" name="twitter:site" content="@magcho0527"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="description" content="gulp-sharp で画像のリサイズをしたい時にできなかったので自分でそれっぽいのを書いた。 フロントエンドで画像を扱う時にsrcディレクトリには元の大きさの画像を用意してdist…"/><meta name="theme-color" content="#7cb3d9"/><meta name="generator" content="Gatsby 4.16.0"/><style data-href="/styles.773d99568f47a9a62e1a.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{color:#c5c8c6;direction:ltr;font-family:Inconsolata,Monaco,Consolas,Courier New,Courier,monospace;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#1d1f21}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#7c7c7c}.token.punctuation{color:#c5c8c6}.namespace{opacity:.7}.token.keyword,.token.property,.token.tag{color:#96cbfe}.token.class-name{color:#ffffb6;text-decoration:underline}.token.boolean,.token.constant{color:#9c9}.token.deleted,.token.symbol{color:#f92672}.token.number{color:#ff73fd}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a8ff60}.token.variable{color:#c6c5fe}.token.operator{color:#ededed}.token.entity{color:#ffffb6;cursor:help}.token.url{color:#96cbfe}.language-css .token.string,.style .token.string{color:#87c38a}.token.atrule,.token.attr-value{color:#f9ee98}.token.function{color:#dad085}.token.regex{color:#e9c062}.token.important{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}body{margin:0}@media(prefers-color-scheme:dark){body{background-color:#1a2937;color:#c5c8c6}}body .mainframe{margin-top:2em}@media screen and (min-width:769px){body .mainframe{overflow:auto}}body header{background-color:#7cb3d9;font-family:monospace;font-weight:700;text-align:center;width:100%}@media(prefers-color-scheme:dark){body header{background-color:#005e86}}@media screen and (min-width:769px){body header{font-size:5em;height:400px;line-height:400px}}@media screen and (max-width:768px){body header{font-size:3em;height:200px;line-height:200px}}body header a{color:#fff;text-decoration:none}body header a:hover{color:#ddd}body .mainframe{margin:auto;max-width:1280px}body main{box-sizing:border-box}@media screen and (min-width:769px){body main{float:left;padding:0 2em;width:80%}}@media screen and (max-width:768px){body main{padding:0;width:100%}}body main .tag-name{color:#022547}@media(prefers-color-scheme:dark){body main .tag-name{color:#fff}}body main article{word-wrap:break-word;border-bottom:1px dashed #000;border-top:1px dashed #000;font-family:游ゴシック体,Yu Gothic,YuGothic,ヒラギノ角ゴシック Pro,Hiragino Kaku Gothic Pro,メイリオ,Meiryo,Osaka,ＭＳ Ｐゴシック,MS PGothic,"sans-serif";margin:2em 0;padding:.5em 1.5em;position:relative;z-index:2}body main article #article-meta{margin-left:1em;margin-top:1rem}body main article #article-meta span{margin-right:1em}@media(prefers-color-scheme:dark){body main article{border-bottom:1px dashed hsla(0,0%,100%,.5);border-top:1px dashed hsla(0,0%,100%,.5)}}body main article a{color:#00b4ff}body main article a:visited{color:#1d9db3}body main article:after,body main article:before{background-color:#000;content:"";height:calc(100% + 20px);position:absolute;top:-10px;width:1px}@media(prefers-color-scheme:dark){body main article:after,body main article:before{background-color:hsla(0,0%,100%,.5)}}body main article:before{left:10px}body main article:after{right:10px}body main article p{font-family:ヒラギノ丸ゴ Pro W4,ヒラギノ丸ゴ Pro,Hiragino Maru Gothic Pro,ヒラギノ角ゴ Pro W3,Hiragino Kaku Gothic Pro,HG丸ｺﾞｼｯｸM-PRO,HGMaruGothicMPRO;letter-spacing:.03em;line-height:1.5em;margin:1em 0 0;padding:0}@media(prefers-color-scheme:dark){body main article p{font-family:游ゴシック体,Yu Gothic,YuGothic,ヒラギノ角ゴシック Pro,Hiragino Kaku Gothic Pro,メイリオ,Meiryo,Osaka,ＭＳ Ｐゴシック,MS PGothic,"sans-serif"}}body main article div.title>a{color:#022547;text-decoration:none}@media(prefers-color-scheme:dark){body main article div.title>a{color:#fff}}body main article h1.title{font-font-family:"游ゴシック体","Yu Gothic","YuGothic","ヒラギノ角ゴシック Pro","Hiragino Kaku Gothic Pro","メイリオ","Meiryo","Osaka","ＭＳ Ｐゴシック","MS PGothic","sans-serif";display:inline;font-weight:inherit;line-height:2rem;margin:0;overflow:auto;overflow-y:hidden;word-break:normal}@media(prefers-color-scheme:dark){body main article h1.title{color:#fff}}@media screen and (max-width:768px){body main article h1.title{float:unset}}@media screen and (min-width:769px){body main article h1.title{font-size:2em;max-width:calc(100% - 107px)}}body main article .date{display:inline-block}body main article .date .penguin-shadow{float:left;height:35px;width:107px}@media screen and (max-width:768px){body main article .date .penguin-shadow{display:none}}body main article .date p{margin:0}@media screen and (min-width:769px){body main article .date p{color:#fff;font-weight:700;height:35px;line-height:35px;position:absolute;text-align:center;width:107px}}@media screen and (min-width:769px)and (prefers-color-scheme:dark){body main article .date p{color:#000}}@media screen and (max-width:768px){body main article .date p{color:#000;line-height:2rem}}@media screen and (max-width:768px)and (prefers-color-scheme:dark){body main article .date p{color:#fff}}@media screen and (min-width:769px){body main article .content-body{margin-top:2rem}}body main article .content-body .excerpt{line-height:1.8rem;margin-bottom:0}body main article .content-body p{line-height:1.8rem;margin-bottom:2rem;text-indent:1rem}body main article .content-body p a{color:#00b4ff}body main article .content-body p a:visited{color:#1d9db3}body main article .content-body ul p{margin-bottom:unset}body main article .content-body img{height:auto;width:100%}body main article .content-body pre{overflow-x:scroll}body main article .content-body table{border-collapse:collapse;display:block;margin:auto;overflow-x:scroll;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}body main article .content-body table th{background-color:#f7f7f7;border:1px solid #ddd;padding:5px 12px}@media(prefers-color-scheme:dark){body main article .content-body table th{background-color:#0b141b}}body main article .content-body table tr td{border:1px solid #ddd;padding:5px 12px}body main article .content-body table tr:nth-child(odd){background-color:#eee}@media(prefers-color-scheme:dark){body main article .content-body table tr:nth-child(odd){background-color:#2a3c4c}}body main article .content-body .gatsby-code-title{background-color:#1d1f21;border-bottom:2px solid #919492;border-top-left-radius:.3em;border-top-right-radius:.3em;color:hsla(0,0%,100%,.86);width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}body main article .content-body .gatsby-code-title span{padding-left:1rem;padding-right:1rem}body main article .content-body .gatsby-highlight{overflow-x:scroll}body main article .content-body .gatsby-highlight pre{border-top-left-radius:0;margin-top:0;word-break:keep-all}body main article .content-body .gatsby-highlight code{word-wrap:normal;word-break:keep-all}body main article .tag-list ul{list-style:none}@media screen and (min-width:769px){body main article .tag-list ul{padding-left:40px}}@media screen and (max-width:768px){body main article .tag-list ul{padding-left:0}}body main article .tag-list ul li{margin-bottom:.8em}body main article .tag-list ul li a{color:#022547}@media(prefers-color-scheme:dark){body main article .tag-list ul li a{color:#00c3ff}}body main article ul.content-tags{display:block;list-style:none;padding:0}body main article ul.content-tags:after{content:""}@media screen and (min-width:769px){body main article ul.content-tags{margin-bottom:0;margin-left:1em;margin-top:1em}}@media screen and (max-width:768px){body main article ul.content-tags{margin-bottom:0;margin-left:1em;margin-top:0}}body main article ul.content-tags li{float:left;margin-right:.5rem}body main article ul.content-tags li:after{content:","}body main article ul.content-tags li a{color:#00b4ff;font-family:ヒラギノ丸ゴ Pro W4,ヒラギノ丸ゴ Pro,Hiragino Maru Gothic Pro,ヒラギノ角ゴ Pro W3,Hiragino Kaku Gothic Pro,HG丸ｺﾞｼｯｸM-PRO,HGMaruGothicMPRO}body main article ul.content-tags li:last-child{float:none}body main article ul.content-tags:last-child{content:""}body main article .footnotes p{display:inline}body nav.category-link,body nav.tag-link{box-sizing:border-box;font-family:serif}@media screen and (max-width:768px){body nav.category-link,body nav.tag-link{padding-left:1em}}body nav.category-link h1,body nav.tag-link h1{margin-bottom:10px}@media(prefers-color-scheme:dark){body nav.category-link h1,body nav.tag-link h1{color:#fff}}body nav.category-link ul,body nav.tag-link ul{list-style:none;margin-top:0}body nav.category-link ul li,body nav.tag-link ul li{display:inline-block;margin-right:.5rem}body nav.category-link ul li:after,body nav.tag-link ul li:after{content:","}@media(prefers-color-scheme:dark){body nav.category-link ul li:after,body nav.tag-link ul li:after{color:#777}}body nav.category-link ul li a,body nav.tag-link ul li a{word-wrap:break-word;color:#022547;font-family:ヒラギノ丸ゴ Pro W4,ヒラギノ丸ゴ Pro,Hiragino Maru Gothic Pro,ヒラギノ角ゴ Pro W3,Hiragino Kaku Gothic Pro,HG丸ｺﾞｼｯｸM-PRO,HGMaruGothicMPRO;text-decoration:underline}@media(prefers-color-scheme:dark){body nav.category-link ul li a,body nav.tag-link ul li a{color:#00b4ff;font-family:游ゴシック体,Yu Gothic,YuGothic,ヒラギノ角ゴシック Pro,Hiragino Kaku Gothic Pro,メイリオ,Meiryo,Osaka,ＭＳ Ｐゴシック,MS PGothic,"sans-serif";line-height:1.8rem}}@media screen and (min-width:769px){body .tag-link{position:relative;top:2em}}body .pagenate{height:calc(60px + 1em);padding-left:3em;padding-right:3em}@media screen and (min-width:769px){body .pagenate{width:70%}}body .pagenate .dark-mode{display:none}@media(prefers-color-scheme:dark){body .pagenate .light-mode{display:none}body .pagenate .dark-mode{display:unset}}body .pagenate img{height:60px}body .pagenate a{color:#00b4ff}body .pagenate a p{font-family:ヒラギノ丸ゴ Pro W4,ヒラギノ丸ゴ Pro,Hiragino Maru Gothic Pro,ヒラギノ角ゴ Pro W3,Hiragino Kaku Gothic Pro,HG丸ｺﾞｼｯｸM-PRO,HGMaruGothicMPRO;margin-bottom:0;margin-top:0}body .pagenate a:visited{color:#1d9db3}body .pagenate .previous{float:left}body .pagenate .next{float:right}body footer{background-color:#022547;font-family:ヒラギノ丸ゴ Pro W4,ヒラギノ丸ゴ Pro,Hiragino Maru Gothic Pro,ヒラギノ角ゴ Pro W3,Hiragino Kaku Gothic Pro,HG丸ｺﾞｼｯｸM-PRO,HGMaruGothicMPRO;margin-top:1rem;width:100%}body footer p{color:#fff;font-size:.8rem;margin:auto 0;text-align:center;width:100%;word-break:inherit}@media(prefers-color-scheme:dark){body footer p{background-color:#0c141b;color:#777}}.tag-name{margin:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.post{word-wrap:break-word;border-bottom:1px dashed #000;border-top:1px dashed #000;font-family:游ゴシック体,Yu Gothic,YuGothic,ヒラギノ角ゴシック Pro,Hiragino Kaku Gothic Pro,メイリオ,Meiryo,Osaka,ＭＳ Ｐゴシック,MS PGothic,"sans-serif";margin:2em 0;padding:.5em 1.5em;position:relative;z-index:2}@media(prefers-color-scheme:dark){.post{border-bottom:1px dashed hsla(0,0%,100%,.5);border-top:1px dashed hsla(0,0%,100%,.5)}}.post:after,.post:before{background-color:#000;content:"";height:calc(100% + 20px);position:absolute;top:-10px;width:1px}@media(prefers-color-scheme:dark){.post:after,.post:before{background-color:hsla(0,0%,100%,.5)}}.post h1.title{color:#022547;float:none;max-width:100%}@media(prefers-color-scheme:dark){.post h1.title{color:#fff}}.post p.excerpt{color:#000;letter-spacing:.03em;line-height:1.8rem;margin:2rem 0 1em;padding:0;text-indent:1rem}@media(prefers-color-scheme:dark){.post p.excerpt{color:hsla(0,0%,100%,.86);color:#c5c8c6}}.post a{text-decoration:none}.post .content-tags a{text-decoration:underline}.readmore{background-color:#b0cc05;border-radius:2em;color:#fff;font-size:1.2em;margin:.8em auto .8rem;padding:.5em 2em;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.readmore:hover{opacity:.7}.readmore-link .舞台技術{background-color:#7cb3d9}.readmore-link .日記{background-color:#00bb16}.readmore-link .電子工作{background-color:#f18af2}.readmore-link .プログラミング{background-color:#f29333}@media(prefers-color-scheme:dark){.readmore-link .readmore{background-color:#1a2937}.readmore-link .舞台技術{border:2px solid #7cb3d9}.readmore-link .日記{border:2px solid #00bb16}.readmore-link .電子工作{border:2px solid #f18af2}.readmore-link .プログラミング{border:2px solid #f29333}}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="magcho&#x27;s blog RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=6d20bae83a2a36cd9828462faa209e1b" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=6d20bae83a2a36cd9828462faa209e1b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=6d20bae83a2a36cd9828462faa209e1b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=6d20bae83a2a36cd9828462faa209e1b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=6d20bae83a2a36cd9828462faa209e1b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=6d20bae83a2a36cd9828462faa209e1b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=6d20bae83a2a36cd9828462faa209e1b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=6d20bae83a2a36cd9828462faa209e1b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=6d20bae83a2a36cd9828462faa209e1b"/><title data-react-helmet="true">GulpでSharpを使って画像のリサイズをする | magcho&#x27;s blog</title><link rel="sitemap" type="application/xml" href="/sitemap.xml/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header><a href="/"><div class="title">magcho&#x27;s blog</div></a></header><div class="mainframe"><main><article><div class="content-header"><div class="title"><div class="title-flame"><h1 class="title" style="border-bottom:solid #F29333 0.3rem">GulpでSharpを使って画像のリサイズをする</h1></div></div></div><div id="article-meta"><span>Created at: <time dateTime="2020-05-04">2020-05-04</time></span><span>Last updated at:<time dateTime="2022-09-17">2022-09-17<!-- --> (Revision: <!-- -->1<!-- -->)</time></span></div><ul class="content-tags"><li class="プログラミング"><a href="/category/プログラミング/">【<!-- -->プログラミング<!-- -->】</a></li><li class="Gulp"><a href="/tag/gulp/">Gulp</a></li></ul><div class="content-body"><p><a href="https://www.npmjs.com/package/gulp-sharp">gulp-sharp</a> で画像のリサイズをしたい時にできなかったので自分でそれっぽいのを書いた。</p>
<p>フロントエンドで画像を扱う時にsrcディレクトリには元の大きさの画像を用意してdistディレクトリには適切なサイズまで小さくして公開する運用をしている。</p>
<p>自分は欲しい大きさにresizeしてからoptimiseをしています、gulpでのresizeで一番npmでダウンロード数が多いのは<a href="https://www.npmjs.com/package/gulp-image-resize">gulp-image-resize</a>です。このライブラリはGraphicsMagick か ImageMagickまたはその両方を必要とします。CIでサイトをビルドする時にこれらがインストールされていないときは自分でapt等でインストールをする必要がありますが、ciの制約でインストールができなかったのでsharpを使ってresizeさせたかった。</p>
<p>探すと<a href="https://www.npmjs.com/package/gulp-sharp">gulp-sharp</a>はあるんですが、メンテナンスされてないのでインストール時にエラーが出ました。</p>
<p>凝ったことしなければgulpのプラグインは簡単に書けたので、ここにメモ。</p>
<h2>自作gulp-sharp</h2>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> i through2 gulp-util sharp</code></pre></div>

        <div class="gatsby-code-title code-title">
          <span>my-gulp-sharp.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> through <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"through2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> gulputil <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-util"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sharp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"sharp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  through<span class="token punctuation">.</span><span class="token function">obj</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> encoding<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">isStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">gulputil<span class="token punctuation">.</span>PluginError</span><span class="token punctuation">(</span><span class="token string">"gulp-sharp"</span><span class="token punctuation">,</span> <span class="token string">"Streams un supported"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">isBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> options<span class="token punctuation">.</span>width <span class="token operator">===</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        payload<span class="token punctuation">.</span>width <span class="token operator">=</span> options<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>height <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> options<span class="token punctuation">.</span>height <span class="token operator">===</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        payload<span class="token punctuation">.</span>height <span class="token operator">=</span> options<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token function">sharp</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>contents<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">toBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token function">callback</span><span class="token punctuation">(</span>
            <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">gulputil<span class="token punctuation">.</span>File</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">base</span><span class="token operator">:</span> file<span class="token punctuation">.</span>base<span class="token punctuation">,</span>
              <span class="token literal-property property">cwd</span><span class="token operator">:</span> file<span class="token punctuation">.</span>cwd<span class="token punctuation">,</span>
              <span class="token literal-property property">path</span><span class="token operator">:</span> file<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
              <span class="token literal-property property">contents</span><span class="token operator">:</span> data<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>npmでsharpとgulpプラグインを作るためにthrough2とgulp-utilをインストールします。</p>
<p>あとはgulpfile.jsからいつも通り読み込みます。</p>

        <div class="gatsby-code-title code-title">
          <span>gulpfile.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">cost gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> my<span class="token operator">-</span>gulp<span class="token operator">-</span>sharp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./my-gulp-sharp'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">resize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span>
  gulp
    <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'./img/*.+(png|jpg)'</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>my<span class="token operator">-</span>gulp<span class="token operator">-</span><span class="token function">sharp</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">300</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dist</span><span class="token punctuation">(</span><span class="token string">'./dist/img'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span>cb<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>heightとwidthをオプションで渡していますが、どちらかを省略するとアスペクト比を保った数値でいい感じに縮小してくれます。</p>
<p>sharpはfilebuffの他streamでも使えるみたいですが、今回の形でgulpで使った時はfilebuffのみで動作したので実装しませんでした。</p></div><ul class="content-tags"><li class="プログラミング"><a href="/category/プログラミング/">【<!-- -->プログラミング<!-- -->】</a></li><li class="Gulp"><a href="/tag/gulp/">Gulp</a></li></ul><div class="github-link"><a href="https://github.com/magcho/blog.magcho.com/edit/master/src/pages/2020/5/gulp-sharp.md">この記事の編集</a></div></article></main><nav class="category-link"><h1 class="title">Categories</h1><ul><li><a href="/category/プログラミング/">プログラミング</a></li><li><a href="/category/日記/">日記</a></li><li><a href="/category/舞台技術/">舞台技術</a></li><li><a href="/category/電子工作/">電子工作</a></li></ul></nav><nav class="tag-link"><h1 class="title">Tags</h1><ul><li><a href="/tag/dmx512/">DMX512</a></li><li><a href="/tag/emacs/">emacs</a></li><li><a href="/tag/mac/">mac</a></li><li><a href="/tag/docker/">Docker</a></li><li><a href="/tag/dotz/">dotz</a></li><li><a href="/tag/gatsby.js/">gatsby.js</a></li><li><a href="/tag/homebrew/">homebrew</a></li><li><a href="/tag/ポリッドスクリーン/">ポリッドスクリーン</a></li><li><a href="/tag/生産性のない話/">生産性のない話</a></li><li><a href="/tag/自作キーボード/">自作キーボード</a></li><li><a href="/tag/3d_printer/">3D_printer</a></li><li><a href="/tag/aws/">AWS</a></li><li><a href="/tag/apple watch/">Apple Watch</a></li><li><a href="/tag/arduino/">Arduino</a></li><li><a href="/tag/art-net/">Art-Net</a></li><li><a href="/tag/chrome/">Chrome</a></li><li><a href="/tag/github actions/">GitHub Actions</a></li><li><a href="/tag/gulp/">Gulp</a></li><li><a href="/tag/homebrew/">Homebrew</a></li><li><a href="/tag/m5paper/">M5Paper</a></li><li><a href="/tag/netlify/">Netlify</a></li><li><a href="/tag/nginx/">Nginx</a></li><li><a href="/tag/ola/">OLA</a></li><li><a href="/tag/oss/">OSS</a></li><li><a href="/tag/soap/">SOAP</a></li><li><a href="/tag/typescript/">TypeScript</a></li><li><a href="/tag/git/">git</a></li><li><a href="/tag/github/">github</a></li><li><a href="/tag/go/">go</a></li><li><a href="/tag/golang/">golang</a></li><li><a href="/tag/lily58/">lily58</a></li><li><a href="/tag/macos/">macOS</a></li><li><a href="/tag/qmk firmware/">qmk firmware</a></li><li><a href="/tag/tmux/">tmux</a></li><li><a href="/tag/use-package/">use-package</a></li><li><a href="/tag/youtube live/">youtube live</a></li><li><a href="/tag/インターンシップ/">インターンシップ</a></li><li><a href="/tag/ブログ/">ブログ</a></li><li><a href="/tag/参加レポ/">参加レポ</a></li><li><a href="/tag/思ったこと/">思ったこと</a></li><li><a href="/tag/読書/">読書</a></li></ul></nav><div class="pagenate"><div class="previous"><a href="/2020/4/qmk_firmwareでctrlとの同時押しをカスタマイズする/"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIgogICBpZD0ic3ZnNzgiCiAgIHZlcnNpb249IjEuMSIKICAgdmlld0JveD0iMCAwIDUxLjYyNjEzNyA2Ny44OTEwOTciCiAgIGhlaWdodD0iNjcuODkxMDk4cHQiCiAgIHdpZHRoPSI1MS42MjYxMzdwdCI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhODQiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM4MiIgLz4KICA8ZwogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02NC44NDYyMzEsLTQyNC40NTA5KSIKICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUiCiAgICAgaWQ9ImxheWVyMSI+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtzdHJva2U6bm9uZSIKICAgICAgIGQ9Im0gNjYuMjg5MSw0MzIuNjg1IGMgMS4xNjIxLC0xLjA1NyA1LjgwODYsLTIuODUxIDYuMzM1OSwtMy4xNjggMC41MjczLC0wLjMxOCAwLjYzMjgsLTMuODAyIDYuMTIzLC00Ljg1OCA1LjQ5MjIsLTEuMDU1IDguNTUyOCwyLjIxOCA5LjE4NzUsMi43NDUgMCwwIDIuNDI3OCwxLjI2OCA2LjQ0MTUsMi4yMTcgNC4wMTE3LDAuOTUxIDEwLjg3NSwzLjY5NiAxNi4zNjcsMTUuMzExIDMuMDE4LDYuMzg2IDMuMTMzLDEzLjk1MSAyLjY0MSwxOS42NzggMC4wNjIsMS4zMzMgMC4xNDYsMi40MzcgMC4zMTQsMy4xMyAwLjc0LDMuMDYyIDMuNDg1LDMuOTA4IDEuOTAxLDQuNDM2IC0xLjE2MiwwLjM4OCAtMi4xOCwtMC4wOTMgLTMuMDU3LC0xLjEwMiAtMC4xOTksMS4yMTIgLTAuMzQyLDIuMDE0IC0wLjMyMiwyLjI2MyAwLjEwNSwxLjI2OCAxLjM3Myw3LjYwMyAxLjY4OSw4LjY1OSAwLjMxNywxLjA1NSAyLjg1MiwxLjg5OSAyLjUzNSwyLjQyOCAtMC4zMTYsMC41MjcgLTEuNjg5LDAuNDIyIC0yLjUzNSwwIC0wLjEwNSwxLjE2IC0wLjk0OSw0LjUzOSAtMi4yMTcsNS4wNjYgLTEuMjY3LDAuNTMgLTMuOCwxLjI3IC00Ljg1NywxLjU4NCAtMS4wNTUsMC4zMTkgLTEuMjY4LDEuMjY4IC0xLjY5LDEuMjY4IC0wLjQyMSwwIDAuMzE3LC0xLjc5NSAwLjMxNywtMS43OTUgMCwwIC0xLjkwMSwwLjg0NiAtMi41MzMsMS4wNTcgLTAuNjM1LDAuMjExIDAuODQzLC0yLjUzNCAxLjY4OSwtMi45NTcgMC40MjIsLTAuOTUyIDIuODUsLTEuMjY2IDMuNjk1LC0xLjQ3OSAwLjg0NCwtMC4yMDkgMC45NTIsLTEuODk4IDAuNTMsLTIuNzQ0IC0xLjU4NiwwLjEwNSAtNS4xNzYsLTAuNzM4IC02LjQ0MiwtMS4xNjIgLTEuMjY3LC0wLjQyMiAtMy4zODA1LC0xLjA1NyAtMy4xNjc2LC0xLjQ3OSAtMC40MjM5LDEuMDU3IC0xLjkwMDQsMS42OTIgLTEuOTAwNCwxLjY5MiBsIC0xLjE2MjEsMi40MjcgYyAwLDAgMCwwLjczOSAtMC41Mjc0LDEuNDc5IC0wLjUyOTMsMC43MzggLTMuNTg5OCwxLjU4MiAtNC40MzU1LDEuNTgyIC0wLjg0NTcsMCAtMS41ODQsMC45NTEgLTIuNTM1MiwxLjQ3OSAtMC45NDkyLDAuNTI5IC0wLjQyMTgsLTAuNDIyIDAuMTA1NSwtMS4zNzIgLTAuMzE2NCwtMC4zMTYgLTIuNjM4NywwLjYzMyAtMy4yNzM0LDAuOTUgLTAuNjMyOSwwLjMxNiAwLjMxODMsLTEuOTAxIDEuMjY3NSwtMi44NTIgMC43NDAzLC0xLjQ3OCAzLjM3ODksLTEuNjg5IDMuOTA4MiwtMS42ODkgMC41Mjc0LDAgMC43MzgzLC0wLjQyMiAxLjA1NDcsLTAuNzM5IDAuMzE4NCwtMC4zMTYgMC42MzI4LC0xLjQ3OCAwLjc0MDMsLTIuMzIyIDAuMTA1NCwtMC44NDYgLTAuNjM0OCwtMi43NDYgLTEuMTYyMSwtNC4zMyAtOS41MDQsLTIxLjc1IC0xMS4yOTg5LC0zNy44MDEgLTExLjI5ODksLTM4LjY0NiAwLC0wLjg0NCAtMC43MzgzLC0yLjYzOSAtMi4zMjIyLC00LjAxMiAtMS41ODQsLTEuMzczIC00Ljk2MjksLTIuMDA2IC00Ljk2MjksLTIuMDA2IDAsMCAtMy41MTk2LDAuNDkyIC00Ljc4NzEsMC43MDMgLTEuMjY3NiwwLjIxMiAtMi4wNjg0LDEuMTM1IC0yLjgxNjQsMC45ODYgLTAuNzAzMiwtMC4xNDIgMCwtMS4zNzMgMS4xNjIxLC0yLjQyOCB6IgogICAgICAgaWQ9InBhdGgxNiIgLz4KICA8L2c+Cjwvc3ZnPgo=" alt="Previous" class="light-mode"/><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIKCSBpZD0ic3ZnNzgiIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTEuNiA2Ny45IgoJIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxLjYgNjcuOTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiNERkUxRTM7fQo8L3N0eWxlPgo8ZyBpZD0ibGF5ZXIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjQuODQ2MjMxLC00MjQuNDUwOSkiPgoJPHBhdGggaWQ9InBhdGgxNiIgY2xhc3M9InN0MCIgZD0iTTY2LjMsNDMyLjdjMS4yLTEuMSw1LjgtMi45LDYuMy0zLjJjMC41LTAuMywwLjYtMy44LDYuMS00LjljNS41LTEuMSw4LjYsMi4yLDkuMiwyLjcKCQljMCwwLDIuNCwxLjMsNi40LDIuMmM0LDEsMTAuOSwzLjcsMTYuNCwxNS4zYzMsNi40LDMuMSwxNCwyLjYsMTkuN2MwLjEsMS4zLDAuMSwyLjQsMC4zLDMuMWMwLjcsMy4xLDMuNSwzLjksMS45LDQuNAoJCWMtMS4yLDAuNC0yLjItMC4xLTMuMS0xLjFjLTAuMiwxLjItMC4zLDItMC4zLDIuM2MwLjEsMS4zLDEuNCw3LjYsMS43LDguN2MwLjMsMS4xLDIuOSwxLjksMi41LDIuNGMtMC4zLDAuNS0xLjcsMC40LTIuNSwwCgkJYy0wLjEsMS4yLTAuOSw0LjUtMi4yLDUuMWMtMS4zLDAuNS0zLjgsMS4zLTQuOSwxLjZjLTEuMSwwLjMtMS4zLDEuMy0xLjcsMS4zYy0wLjQsMCwwLjMtMS44LDAuMy0xLjhzLTEuOSwwLjgtMi41LDEuMQoJCWMtMC42LDAuMiwwLjgtMi41LDEuNy0zYzAuNC0xLDIuOC0xLjMsMy43LTEuNWMwLjgtMC4yLDEtMS45LDAuNS0yLjdjLTEuNiwwLjEtNS4yLTAuNy02LjQtMS4yYy0xLjMtMC40LTMuNC0xLjEtMy4yLTEuNQoJCWMtMC40LDEuMS0xLjksMS43LTEuOSwxLjdsLTEuMiwyLjRjMCwwLDAsMC43LTAuNSwxLjVjLTAuNSwwLjctMy42LDEuNi00LjQsMS42cy0xLjYsMS0yLjUsMS41Yy0wLjksMC41LTAuNC0wLjQsMC4xLTEuNAoJCWMtMC4zLTAuMy0yLjYsMC42LTMuMywxYy0wLjYsMC4zLDAuMy0xLjksMS4zLTIuOWMwLjctMS41LDMuNC0xLjcsMy45LTEuN2MwLjUsMCwwLjctMC40LDEuMS0wLjdjMC4zLTAuMywwLjYtMS41LDAuNy0yLjMKCQljMC4xLTAuOC0wLjYtMi43LTEuMi00LjNDODEuOCw0NTYuMyw4MCw0NDAuMyw4MCw0MzkuNGMwLTAuOC0wLjctMi42LTIuMy00Yy0xLjYtMS40LTUtMi01LTJzLTMuNSwwLjUtNC44LDAuNwoJCWMtMS4zLDAuMi0yLjEsMS4xLTIuOCwxQzY0LjQsNDM1LDY1LjEsNDMzLjcsNjYuMyw0MzIuN0w2Ni4zLDQzMi43eiIvPgo8L2c+Cjwvc3ZnPgo=" alt="Previous" class="dark-mode"/><p>←Previous</p></a></div><div class="next"><a href="/2020/6/gitignore/"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIgogICBpZD0ic3ZnNzgiCiAgIHZlcnNpb249IjEuMSIKICAgdmlld0JveD0iMCAwIDQzLjEyOTAzNiA3Mi43NjczMDIiCiAgIGhlaWdodD0iNzIuNzY3MzAzcHQiCiAgIHdpZHRoPSI0My4xMjkwMzZwdCI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhODQiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM4MiIgLz4KICA8ZwogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzQuMzE3OTksLTMzNy4xMzE4NCkiCiAgICAgc3R5bGU9ImRpc3BsYXk6bm9uZSIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojMjQyYjI1O3N0cm9rZTpub25lIgogICAgICAgZD0ibSA2Ni4yODkxLDQzMi42ODUgYyAxLjE2MjEsLTEuMDU3IDUuODA4NiwtMi44NTEgNi4zMzU5LC0zLjE2OCAwLjUyNzMsLTAuMzE4IDAuNjMyOCwtMy44MDIgNi4xMjMsLTQuODU4IDUuNDkyMiwtMS4wNTUgOC41NTI4LDIuMjE4IDkuMTg3NSwyLjc0NSAwLDAgMi40Mjc4LDEuMjY4IDYuNDQxNSwyLjIxNyA0LjAxMTcsMC45NTEgMTAuODc1LDMuNjk2IDE2LjM2NywxNS4zMTEgMy4wMTgsNi4zODYgMy4xMzMsMTMuOTUxIDIuNjQxLDE5LjY3OCAwLjA2MiwxLjMzMyAwLjE0NiwyLjQzNyAwLjMxNCwzLjEzIDAuNzQsMy4wNjIgMy40ODUsMy45MDggMS45MDEsNC40MzYgLTEuMTYyLDAuMzg4IC0yLjE4LC0wLjA5MyAtMy4wNTcsLTEuMTAyIC0wLjE5OSwxLjIxMiAtMC4zNDIsMi4wMTQgLTAuMzIyLDIuMjYzIDAuMTA1LDEuMjY4IDEuMzczLDcuNjAzIDEuNjg5LDguNjU5IDAuMzE3LDEuMDU1IDIuODUyLDEuODk5IDIuNTM1LDIuNDI4IC0wLjMxNiwwLjUyNyAtMS42ODksMC40MjIgLTIuNTM1LDAgLTAuMTA1LDEuMTYgLTAuOTQ5LDQuNTM5IC0yLjIxNyw1LjA2NiAtMS4yNjcsMC41MyAtMy44LDEuMjcgLTQuODU3LDEuNTg0IC0xLjA1NSwwLjMxOSAtMS4yNjgsMS4yNjggLTEuNjksMS4yNjggLTAuNDIxLDAgMC4zMTcsLTEuNzk1IDAuMzE3LC0xLjc5NSAwLDAgLTEuOTAxLDAuODQ2IC0yLjUzMywxLjA1NyAtMC42MzUsMC4yMTEgMC44NDMsLTIuNTM0IDEuNjg5LC0yLjk1NyAwLjQyMiwtMC45NTIgMi44NSwtMS4yNjYgMy42OTUsLTEuNDc5IDAuODQ0LC0wLjIwOSAwLjk1MiwtMS44OTggMC41MywtMi43NDQgLTEuNTg2LDAuMTA1IC01LjE3NiwtMC43MzggLTYuNDQyLC0xLjE2MiAtMS4yNjcsLTAuNDIyIC0zLjM4MDUsLTEuMDU3IC0zLjE2NzYsLTEuNDc5IC0wLjQyMzksMS4wNTcgLTEuOTAwNCwxLjY5MiAtMS45MDA0LDEuNjkyIGwgLTEuMTYyMSwyLjQyNyBjIDAsMCAwLDAuNzM5IC0wLjUyNzQsMS40NzkgLTAuNTI5MywwLjczOCAtMy41ODk4LDEuNTgyIC00LjQzNTUsMS41ODIgLTAuODQ1NywwIC0xLjU4NCwwLjk1MSAtMi41MzUyLDEuNDc5IC0wLjk0OTIsMC41MjkgLTAuNDIxOCwtMC40MjIgMC4xMDU1LC0xLjM3MiAtMC4zMTY0LC0wLjMxNiAtMi42Mzg3LDAuNjMzIC0zLjI3MzQsMC45NSAtMC42MzI5LDAuMzE2IDAuMzE4MywtMS45MDEgMS4yNjc1LC0yLjg1MiAwLjc0MDMsLTEuNDc4IDMuMzc4OSwtMS42ODkgMy45MDgyLC0xLjY4OSAwLjUyNzQsMCAwLjczODMsLTAuNDIyIDEuMDU0NywtMC43MzkgMC4zMTg0LC0wLjMxNiAwLjYzMjgsLTEuNDc4IDAuNzQwMywtMi4zMjIgMC4xMDU0LC0wLjg0NiAtMC42MzQ4LC0yLjc0NiAtMS4xNjIxLC00LjMzIC05LjUwNCwtMjEuNzUgLTExLjI5ODksLTM3LjgwMSAtMTEuMjk4OSwtMzguNjQ2IDAsLTAuODQ0IC0wLjczODMsLTIuNjM5IC0yLjMyMjIsLTQuMDEyIC0xLjU4NCwtMS4zNzMgLTQuOTYyOSwtMi4wMDYgLTQuOTYyOSwtMi4wMDYgMCwwIC0zLjUxOTYsMC40OTIgLTQuNzg3MSwwLjcwMyAtMS4yNjc2LDAuMjEyIC0yLjA2ODQsMS4xMzUgLTIuODE2NCwwLjk4NiAtMC43MDMyLC0wLjE0MiAwLC0xLjM3MyAxLjE2MjEsLTIuNDI4IHoiCiAgICAgICBpZD0icGF0aDE2IiAvPgogIDwvZz4KICA8ZwogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzQuMzE3OTksLTMzNy4xMzE4NCkiCiAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lIgogICAgIGlkPSJsYXllcjIiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOiMyNDJiMjU7c3Ryb2tlOm5vbmUiCiAgICAgICBkPSJtIDI2MC4yNzgsMzM3LjE0NiBjIC0yLjY1MiwwLjExMyAtNy4yNTUsMS41OTIgLTcuNjA5LDcuMjU0IC0xLjA2Miw0LjA3MSAtMi4xMjMsNS4zMDkgLTMuMDA4LDYuNzI1IC0wLjg4NSwxLjQxNSAtOS4zNzgsMTYuMjc5IC05LjIwMSwzMC43ODggMC4xNzcsMTQuNTEgLTEuMjM5LDIwLjUyNyAtNC45NTQsMjMuMDAzIC0zLjcxNywyLjQ3NyAyLjMsMC43MDggNC4yNDYsMCAxLjk0NywtMC43MDcgNS40ODUsLTIuODMxIDUuNDg1LC0xLjc2OSAwLDEuMDYyIC0wLjg4NSwzLjAwOCAwLjcwOCwzLjE4NCAxLjU5MywwLjE3OCAzLjcxNiwwIDMuNzE2LDAgMCwwIDAuNzA4LDMuMDA5IDMuMDA4LDMuMDA5IDIuMzAxLDAgNy43ODYsMC43MDcgOC44NDgsMC41MzEgMS4wNjEsLTAuMTc4IDEuMDYxLC0wLjE3OCAxLjA2MSwtMC4xNzggbCAtMC41MywtMS40MTUgMS40MTUsLTAuMzU0IGMgMCwwIC0yLjEyMywtMC41MzEgLTMuMTg1LC0wLjcwOCAwLDAgMC40MTIsLTAuMzUzIDAuMTE5LC0wLjQxMyAtMC4yOTYsLTAuMDU4IC0yLjM2MSwtMC4yOTQgLTIuNzE0LC0wLjM1MyAtMC4zNTUsLTAuMDU5IDAuODI1LC0wLjU5IDEuMDYxLC0wLjc2NiAwLjIzNiwtMC4xNzggLTAuMzUzLC0wLjUzMiAtMC43NjYsLTAuNTkxIC0wLjQxMywtMC4wNTkgMS4wNjEsLTAuNDcxIDAuNTg5LC0wLjY0OCAtMC40NzEsLTAuMTc3IC0xLjU5MiwtMC4yOTUgLTEuNTkyLC0wLjI5NSAwLDAgMC4xMTgsLTAuNDE0IC0wLjM1NCwtMC40MTQgLTAuNDczLDAgLTEuMDYxLC0wLjI5NCAtMS4wNjEsLTAuMjk0IDAsMCAwLjQ3MSwtMS4yMzkgMS4wMDIsLTEuNjUxIDAuNTMxLC0wLjQxMyA0LjM2NSwtNC45NTUgNS4yNDksLTUuOTU4IDAuODg1LC0xLjAwMyA2LjU0NywtOS45NjggNy41NSwtMjAuNzAzIDEuMDAyLC0xMC43MzQgLTEuMTc5LC0xOS44MTcgLTIuNTM3LC0yMi44ODUgLTEuMzU1LC0zLjA2NyAtMy4zNjEsLTQuMDY5IC0zLjE4MywtNS4wNzIgMC4xNzYsLTEuMDAzIDEuOTQ1LC0zLjAwOCAyLjE4MSwtNC4wMTEgMS4zNTcsLTAuOTQ0IDQuNTQyLC0zLjAwOCA3LjMxNCwtMy4zNjIgMi43NzIsLTAuMzU0IDQuNDI0LDAuMjk1IDQuMzA1LC0wLjI5NSAtMC4xMTcsLTAuNTg5IC0xLjgyNCwtMC44MyAtMy4yNDQsLTAuODg0IC0xLjUzMywtMC4wNiAtNi40MjgsMC41OSAtNy4xOTUsMC4yMzUgLTAuNzY3LC0wLjM1MyAtMi41OTYsLTEuODg3IC02LjcyNCwtMS43MSB6IgogICAgICAgaWQ9InBhdGg4IiAvPgogIDwvZz4KPC9zdmc+Cg==" alt="Next" class="light-mode"/><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIKCSBpZD0ic3ZnNzgiIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDMuMSA3Mi44IgoJIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQzLjEgNzIuODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtkaXNwbGF5Om5vbmU7fQoJLnN0MXtkaXNwbGF5OmlubGluZTtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMyNDJCMjU7fQoJLnN0MntmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiNERkUxRTM7fQo8L3N0eWxlPgo8ZyBpZD0ibGF5ZXIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjM0LjMxNzk5LC0zMzcuMTMxODQpIiBjbGFzcz0ic3QwIj4KCTxwYXRoIGlkPSJwYXRoMTYiIGNsYXNzPSJzdDEiIGQ9Ik02Ni4zLDQzMi43YzEuMi0xLjEsNS44LTIuOSw2LjMtMy4yYzAuNS0wLjMsMC42LTMuOCw2LjEtNC45YzUuNS0xLjEsOC42LDIuMiw5LjIsMi43CgkJYzAsMCwyLjQsMS4zLDYuNCwyLjJjNCwxLDEwLjksMy43LDE2LjQsMTUuM2MzLDYuNCwzLjEsMTQsMi42LDE5LjdjMC4xLDEuMywwLjEsMi40LDAuMywzLjFjMC43LDMuMSwzLjUsMy45LDEuOSw0LjQKCQljLTEuMiwwLjQtMi4yLTAuMS0zLjEtMS4xYy0wLjIsMS4yLTAuMywyLTAuMywyLjNjMC4xLDEuMywxLjQsNy42LDEuNyw4LjdjMC4zLDEuMSwyLjksMS45LDIuNSwyLjRjLTAuMywwLjUtMS43LDAuNC0yLjUsMAoJCWMtMC4xLDEuMi0wLjksNC41LTIuMiw1LjFjLTEuMywwLjUtMy44LDEuMy00LjksMS42Yy0xLjEsMC4zLTEuMywxLjMtMS43LDEuM2MtMC40LDAsMC4zLTEuOCwwLjMtMS44cy0xLjksMC44LTIuNSwxLjEKCQljLTAuNiwwLjIsMC44LTIuNSwxLjctM2MwLjQtMSwyLjgtMS4zLDMuNy0xLjVjMC44LTAuMiwxLTEuOSwwLjUtMi43Yy0xLjYsMC4xLTUuMi0wLjctNi40LTEuMmMtMS4zLTAuNC0zLjQtMS4xLTMuMi0xLjUKCQljLTAuNCwxLjEtMS45LDEuNy0xLjksMS43bC0xLjIsMi40YzAsMCwwLDAuNy0wLjUsMS41Yy0wLjUsMC43LTMuNiwxLjYtNC40LDEuNnMtMS42LDEtMi41LDEuNWMtMC45LDAuNS0wLjQtMC40LDAuMS0xLjQKCQljLTAuMy0wLjMtMi42LDAuNi0zLjMsMWMtMC42LDAuMywwLjMtMS45LDEuMy0yLjljMC43LTEuNSwzLjQtMS43LDMuOS0xLjdjMC41LDAsMC43LTAuNCwxLjEtMC43YzAuMy0wLjMsMC42LTEuNSwwLjctMi4zCgkJYzAuMS0wLjgtMC42LTIuNy0xLjItNC4zQzgxLjgsNDU2LjMsODAsNDQwLjMsODAsNDM5LjRjMC0wLjgtMC43LTIuNi0yLjMtNGMtMS42LTEuNC01LTItNS0ycy0zLjUsMC41LTQuOCwwLjcKCQljLTEuMywwLjItMi4xLDEuMS0yLjgsMUM2NC40LDQzNSw2NS4xLDQzMy43LDY2LjMsNDMyLjdMNjYuMyw0MzIuN3oiLz4KPC9nPgo8ZyBpZD0ibGF5ZXIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjM0LjMxNzk5LC0zMzcuMTMxODQpIj4KCTxwYXRoIGlkPSJwYXRoOCIgY2xhc3M9InN0MiIgZD0iTTI2MC4zLDMzNy4xYy0yLjcsMC4xLTcuMywxLjYtNy42LDcuM2MtMS4xLDQuMS0yLjEsNS4zLTMsNi43Yy0wLjksMS40LTkuNCwxNi4zLTkuMiwzMC44CgkJYzAuMiwxNC41LTEuMiwyMC41LTUsMjNjLTMuNywyLjUsMi4zLDAuNyw0LjIsMGMxLjktMC43LDUuNS0yLjgsNS41LTEuOGMwLDEuMS0wLjksMywwLjcsMy4yYzEuNiwwLjIsMy43LDAsMy43LDBzMC43LDMsMywzCgkJYzIuMywwLDcuOCwwLjcsOC44LDAuNWMxLjEtMC4yLDEuMS0wLjIsMS4xLTAuMmwtMC41LTEuNGwxLjQtMC40YzAsMC0yLjEtMC41LTMuMi0wLjdjMCwwLDAuNC0wLjQsMC4xLTAuNAoJCWMtMC4zLTAuMS0yLjQtMC4zLTIuNy0wLjRjLTAuNC0wLjEsMC44LTAuNiwxLjEtMC44YzAuMi0wLjItMC40LTAuNS0wLjgtMC42czEuMS0wLjUsMC42LTAuNmMtMC41LTAuMi0xLjYtMC4zLTEuNi0wLjMKCQlzMC4xLTAuNC0wLjQtMC40Yy0wLjUsMC0xLjEtMC4zLTEuMS0wLjNzMC41LTEuMiwxLTEuN2MwLjUtMC40LDQuNC01LDUuMi02YzAuOS0xLDYuNS0xMCw3LjUtMjAuN2MxLTEwLjctMS4yLTE5LjgtMi41LTIyLjkKCQljLTEuNC0zLjEtMy40LTQuMS0zLjItNS4xYzAuMi0xLDEuOS0zLDIuMi00YzEuNC0wLjksNC41LTMsNy4zLTMuNHM0LjQsMC4zLDQuMy0wLjNjLTAuMS0wLjYtMS44LTAuOC0zLjItMC45CgkJYy0xLjUtMC4xLTYuNCwwLjYtNy4yLDAuMkMyNjYuMiwzMzguNSwyNjQuNCwzMzcsMjYwLjMsMzM3LjFMMjYwLjMsMzM3LjF6Ii8+CjwvZz4KPC9zdmc+Cg==" alt="Next" class="dark-mode"/><p>Next→</p></a></div></div></div><footer><p class="copyright">(C)copyright magcho 2018-</p><p class="google-analytics">google analyticsを導入しています</p></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-125180742-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2020/5/gulp-sharp/";window.___webpackCompilationHash="986f587139f276f90df6";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-1d7469b6170c46d44894.js"],"app":["/app-84ec8a5a6131f615bab6.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-6524b67ada6c66a73822.js"],"component---src-pages-404-js":["/component---src-pages-404-js-782ba830c58b93cb525b.js"],"component---src-templates-blog-post-jsx":["/component---src-templates-blog-post-jsx-c26b78433571f9455c87.js"],"component---src-templates-categories-list-jsx":["/component---src-templates-categories-list-jsx-15b57ab7a48650e3a7a1.js"],"component---src-templates-index-jsx":["/component---src-templates-index-jsx-f7ecc82866b2ffe2561a.js"],"component---src-templates-tags-list-jsx":["/component---src-templates-tags-list-jsx-c6125ea7cc9c7802d4a1.js"]};/*]]>*/</script><script src="/polyfill-1d7469b6170c46d44894.js" nomodule=""></script><script src="/app-84ec8a5a6131f615bab6.js" async=""></script><script src="/framework-4f0805d8127c8d16cf9d.js" async=""></script><script src="/webpack-runtime-bc4c99062f1844491220.js" async=""></script></body></html>